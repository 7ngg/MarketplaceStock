@using StockDataLayer.Models;
@model MarketplaceStock.Areas.Admin.Controllers.AdminController;
@{
    Layout = "_Layout";
}

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate" />
    <link rel="stylesheet" href="~/css/membersArea.css">
    <script src="~/js/admin.js" defer></script>
    <script src="~/js/site.js" defer></script>
</head>
<body>
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a href="#">Users</a>
        <a href="#">Products</a>
    </div>
    <div id="main">
        <span onclick="openNav()">&#9776;</span>
    </div>
    <div class="table-container">
        <table class="table-text">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Username</th>
                    <th>Password</th>
                    <th>Email</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var user in Model.Context.Users)
                {
                    <tr>
                        <td>@user.Id</td>
                        <td id="username"><a href="#" onclick="showForm()" id="popup-link">@user.Username</a></td>
                        <td id="password">@user.Password</td>
                        <td id="email">@user.Email</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div id="popup-window">
        <h3 id="popup-title"></h3>
        <button id="close-btn" onclick="closeForm()">&times;</button>
        <div class="user-data">
            <input name="newUsername" id="popup-username" type="text" placeholder="Username">
            <input name="newPassword" id="popup-password" type="text" placeholder="Password">
            <input name="newEmail" id="popup-email" type="text" placeholder="Email">
        </div>
        <form method="post" asp-action="Save">
            <button type="submit" id="save-btn">Save</button>
        </form>
    </div>
</body>
</html>
